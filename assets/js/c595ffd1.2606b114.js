"use strict";(self.webpackChunklinkis_web_apache=self.webpackChunklinkis_web_apache||[]).push([[1813],{3905:function(e,n,t){t.d(n,{Zo:function(){return c},kt:function(){return u}});var o=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,o,i=function(e,n){if(null==e)return{};var t,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var p=o.createContext({}),s=function(e){var n=o.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},c=function(e){var n=s(e.components);return o.createElement(p.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},d=o.forwardRef((function(e,n){var t=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=s(t),u=i,k=d["".concat(p,".").concat(u)]||d[u]||m[u]||r;return t?o.createElement(k,a(a({ref:n},c),{},{components:t})):o.createElement(k,a({ref:n},c))}));function u(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var r=t.length,a=new Array(r);a[0]=d;var l={};for(var p in n)hasOwnProperty.call(n,p)&&(l[p]=n[p]);l.originalType=e,l.mdxType="string"==typeof e?e:i,a[1]=l;for(var s=2;s<r;s++)a[s]=t[s];return o.createElement.apply(null,a)}return o.createElement.apply(null,t)}d.displayName="MDXCreateElement"},9807:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return l},contentTitle:function(){return p},metadata:function(){return s},toc:function(){return c},default:function(){return d}});var o=t(7462),i=t(3366),r=(t(7294),t(3905)),a=["components"],l={title:"Linkis Compilation",sidebar_position:3},p="Linkis compilation document",s={unversionedId:"development/linkis_compilation",id:"development/linkis_compilation",isDocsHomePage:!1,title:"Linkis Compilation",description:"Directory",source:"@site/docs/development/linkis_compilation.md",sourceDirName:"development",slug:"/development/linkis_compilation",permalink:"/docs/next/development/linkis_compilation",editUrl:"https://github.com/apache/incubator-linkis-website/edit/master/docs/development/linkis_compilation.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Linkis Compilation",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Contributing",permalink:"/docs/next/development/contributing"},next:{title:"Linkis Compile And Package",permalink:"/docs/next/development/linkis_compile_and_package"}},c=[{value:"Directory",id:"directory",children:[]},{value:"1. Compile the whole project",id:"1-compile-the-whole-project",children:[]},{value:"2. Compile a module",id:"2-compile-a-module",children:[]},{value:"3. Compile an engine",id:"3-compile-an-engine",children:[]},{value:"4. How to modify the version of Hadoop, Hive and Spark that Linkis depends on",id:"4-how-to-modify-the-version-of-hadoop-hive-and-spark-that-linkis-depends-on",children:[]}],m={toc:c};function d(e){var n=e.components,t=(0,i.Z)(e,a);return(0,r.kt)("wrapper",(0,o.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"linkis-compilation-document"},"Linkis compilation document"),(0,r.kt)("h2",{id:"directory"},"Directory"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"How to compile the whole project of Linkis."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("ol",{parentName:"li",start:2},(0,r.kt)("li",{parentName:"ol"},"How to compile a module."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("ol",{parentName:"li",start:3},(0,r.kt)("li",{parentName:"ol"},"How to compile an engine."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("ol",{parentName:"li",start:4},(0,r.kt)("li",{parentName:"ol"},"How to modify the version of Hadoop, Hive and Spark that Linkis depends on.")))),(0,r.kt)("h2",{id:"1-compile-the-whole-project"},"1. Compile the whole project"),(0,r.kt)("p",null,"Environment requirements: The version of JDK must be ",(0,r.kt)("strong",{parentName:"p"},"higher than JDK8"),", both ",(0,r.kt)("strong",{parentName:"p"},"Oracle/Sun")," and ",(0,r.kt)("strong",{parentName:"p"},"OpenJDK")," are supported."),(0,r.kt)("p",null,"After cloning the project from github, please use maven to compile the project. "),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Please note"),": We recommend you using Hadoop-2.7.2, Hive-1.2.1, Spark-2.4.3 and Scala-2.11.8 to compile the Linkis."),(0,r.kt)("p",null,"If you want to use other version of Hadoop, Hive and Spark, please refer to: How to modify the version of Hadoop, Hive and Spark that Linkis depends on."),(0,r.kt)("p",null,"(1) ",(0,r.kt)("strong",{parentName:"p"},"If you are compiling the Linkis on your local machine for the first time, you must execute the following commands on the root directory beforehand:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"    cd wedatasphere-linkis-x.x.x\n    mvn -N  install\n")),(0,r.kt)("p",null,"(2) Execute the following commands on the root directory:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"    cd wedatasphere-linkis-x.x.x\n    mvn clean install\n")),(0,r.kt)("p",null,"(3) Obtain installation package from the directory 'assembly-> target':"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"    ls wedatasphere-linkis-x.x.x/assembly/target/wedatasphere-linkis-x.x.x-dist.tar.gz\n")),(0,r.kt)("h2",{id:"2-compile-a-module"},"2. Compile a module"),(0,r.kt)("p",null,"After cloning project from github, please use maven to compile the project. "),(0,r.kt)("p",null,"(1) ",(0,r.kt)("strong",{parentName:"p"},"If you are compiling the Linkis on your local machine for the first time, you must execute the following commands on the root directory beforehand:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"    cd wedatasphere-linkis-x.x.x\n    mvn -N  install\n")),(0,r.kt)("p",null,"(2) Switch to the corresponding module to compile. An example of compiling Entrance module is shown below."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"    cd wedatasphere-linkis-x.x.x/linkis-computation-governance/linkis-entrance\n    mvn clean install\n")),(0,r.kt)("p",null,"(3) Obtain compiled installation package from 'target' directory in the corresponding module."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"    ls wedatasphere-linkis-x.x.x/linkis-computation-governance/linkis-entrance/target/linkis-entrance.x.x.x.jar\n")),(0,r.kt)("h2",{id:"3-compile-an-engine"},"3. Compile an engine"),(0,r.kt)("p",null,"An example of compiling the Spark engine is shown below:"),(0,r.kt)("p",null,"(1) ",(0,r.kt)("strong",{parentName:"p"},"If you are compiling the Linkis on your local machine for the first time, you must execute the following commands on the root directory beforehand:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"    cd wedatasphere-linkis-x.x.x\n    mvn -N  install\n")),(0,r.kt)("p",null,"(2) Switch to the directory where Spark engine locates and use the following commands to compile:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"    cd wedatasphere-linkis-x.x.x/linkis-engineconn-plugins/engineconn-plugins/spark\n    mvn clean install\n")),(0,r.kt)("p",null,"(3) Obtained compiled installation package from 'target' directory in the corresponding module."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"    ls wedatasphere-linkis-x.x.x/linkis-engineconn-plugins/engineconn-plugins/spark/target/linkis-engineplugin-spark-x.x.x.zip\n")),(0,r.kt)("p",null,"How to install Spark engine separately? Please refer to Linkis EngineConnPlugin installation document."),(0,r.kt)("h2",{id:"4-how-to-modify-the-version-of-hadoop-hive-and-spark-that-linkis-depends-on"},"4. How to modify the version of Hadoop, Hive and Spark that Linkis depends on"),(0,r.kt)("p",null,"Please note: Since Hadoop is a fundamental service in big data area, Linkis must rely on it for compilation, while computing storage engines such as Spark and Hive are not. If you do not have requirements for a certain engine, then no need to set its engine version or compile its EngineConnPlugin."),(0,r.kt)("p",null,"The way to modify the version of Hadoop is different from that of Spark, Hive and other computation engines. Please see instructions below:"),(0,r.kt)("h4",{id:"how-to-modify-the-version-of-hadoop-that-linkis-relies-on"},"How to modify the version of Hadoop that Linkis relies on?"),(0,r.kt)("p",null,"Enter the root directory of the Linkis and manually modified the Hadoop version in pom.xml."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"    cd wedatasphere-linkis-x.x.x\n    vim pom.xml\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"    <properties>\n      \n        <hadoop.version>2.7.2</hadoop.version> \x3c!--\x3e Modify Hadoop version here <--\x3e\n              \n        <scala.version>2.11.8</scala.version>\n        <jdk.compile.version>1.8</jdk.compile.version>\n              \n    </properties>\n")),(0,r.kt)("h4",{id:"how-to-modify-the-version-of-spark-hive-that-linkis-relies-on"},"How to modify the version of Spark, Hive that Linkis relies on?"),(0,r.kt)("p",null,"Here is an example of modifying Spark version. Enter the directory where Spark engine locates and manually modify the Spark version in pom.xml."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"    cd wedatasphere-linkis-x.x.x/linkis-engineconn-plugins/engineconn-plugins/spark\n    vim pom.xml\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"    <properties>\n      \n        <spark.version>2.4.3</spark.version>  \x3c!--\x3e Modify Spark version here <--\x3e\n              \n    </properties>\n")),(0,r.kt)("p",null,"Modifying  the version of other engines is similar to that of Spark. Enter the directory where  engine locates and manually modify the version in pom.xml."),(0,r.kt)("p",null,"Then, please refer to How to compile an engine."))}d.isMDXComponent=!0}}]);