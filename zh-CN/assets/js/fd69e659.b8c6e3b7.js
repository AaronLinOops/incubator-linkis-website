"use strict";(self.webpackChunklinkis_web_apache=self.webpackChunklinkis_web_apache||[]).push([[5320],{3905:function(e,a,n){n.d(a,{Zo:function(){return p},kt:function(){return h}});var t=n(7294);function o(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function r(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function i(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?r(Object(n),!0).forEach((function(a){o(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function l(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=t.createContext({}),s=function(e){var a=t.useContext(c),n=a;return e&&(n="function"==typeof e?e(a):i(i({},a),e)),n},p=function(e){var a=s(e.components);return t.createElement(c.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},d=t.forwardRef((function(e,a){var n=e.components,o=e.mdxType,r=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=s(n),h=o,g=d["".concat(c,".").concat(h)]||d[h]||u[h]||r;return n?t.createElement(g,i(i({ref:a},p),{},{components:n})):t.createElement(g,i({ref:a},p))}));function h(e,a){var n=arguments,o=a&&a.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=d;var l={};for(var c in a)hasOwnProperty.call(a,c)&&(l[c]=a[c]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var s=2;s<r;s++)i[s]=n[s];return t.createElement.apply(null,i)}return t.createElement.apply(null,n)}d.displayName="MDXCreateElement"},1335:function(e,a,n){n.r(a),n.d(a,{frontMatter:function(){return l},contentTitle:function(){return c},metadata:function(){return s},toc:function(){return p},default:function(){return d}});var t=n(7462),o=n(3366),r=(n(7294),n(3905)),i=["components"],l={},c="Q&A",s={unversionedId:"index",id:"index",title:"Q&A",description:"Linkis1.0\u5e38\u89c1\u95ee\u9898\u548c\u89e3\u51b3\u529e\u6cd5",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs-faq/current/index.md",sourceDirName:".",slug:"/",permalink:"/zh-CN/faq/",editUrl:"https://github.com/apache/incubator-linkis-website/edit/dev/i18n/zh-CN/index.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar"},p=[{value:"Q1\u3001linkis\u542f\u52a8\u62a5\u9519\uff1aNoSuchMethodErrorgetSessionManager()Lorg/eclipse/jetty/server/SessionManager",id:"q1linkis\u542f\u52a8\u62a5\u9519nosuchmethoderrorgetsessionmanagerlorgeclipsejettyserversessionmanager",children:[],level:4},{value:"Q2\u3001\u542f\u52a8\u5fae\u670d\u52a1linkis-ps-cs\u65f6\uff0c\u62a5DebuggClassWriter overrides final method visit",id:"q2\u542f\u52a8\u5fae\u670d\u52a1linkis-ps-cs\u65f6\u62a5debuggclasswriter-overrides-final-method-visit",children:[],level:4},{value:"Q3\u3001\u542f\u52a8\u5fae\u670d\u52a1linkis-ps-datasource\u65f6\uff0cJdbcUtils.getDriverClassName NPE",id:"q3\u542f\u52a8\u5fae\u670d\u52a1linkis-ps-datasource\u65f6jdbcutilsgetdriverclassname-npe",children:[],level:4},{value:"Q4\u3001\u542f\u52a8\u5fae\u670d\u52a1linkis-ps-datasource\u65f6\uff0c\u62a5\u5982\u4e0b\u5f02\u5e38ClassNotFoundException HttpClient\uff1a",id:"q4\u542f\u52a8\u5fae\u670d\u52a1linkis-ps-datasource\u65f6\u62a5\u5982\u4e0b\u5f02\u5e38classnotfoundexception-httpclient",children:[],level:4},{value:"Q5\u3001\u70b9\u51fbscriptis-\u6570\u636e\u5e93\uff0c\u4e0d\u8fd4\u56de\u6570\u636e\uff0c\u73b0\u8c61\u5982\u4e0b\uff1a",id:"q5\u70b9\u51fbscriptis-\u6570\u636e\u5e93\u4e0d\u8fd4\u56de\u6570\u636e\u73b0\u8c61\u5982\u4e0b",children:[],level:4},{value:"Q6\u3001shell\u5f15\u64ce\u8c03\u5ea6\u6267\u884c,\u9875\u9762\u62a5 Insufficient resource , requesting available engine timeout\uff0ceningeconnmanager\u7684linkis.out\uff0c\u62a5\u5982\u4e0b\u9519\u8bef\uff1a",id:"q6shell\u5f15\u64ce\u8c03\u5ea6\u6267\u884c\u9875\u9762\u62a5-insufficient-resource--requesting-available-engine-timeouteningeconnmanager\u7684linkisout\u62a5\u5982\u4e0b\u9519\u8bef",children:[],level:4},{value:"Q7\u3001shell\u5f15\u64ce\u8c03\u5ea6\u6267\u884c\u65f6\uff0c\u5f15\u64ce\u6267\u884c\u76ee\u5f55\u62a5\u5982\u4e0b\u9519\u8bef/bin/java:No such file or directory\uff1a",id:"q7shell\u5f15\u64ce\u8c03\u5ea6\u6267\u884c\u65f6\u5f15\u64ce\u6267\u884c\u76ee\u5f55\u62a5\u5982\u4e0b\u9519\u8befbinjavano-such-file-or-directory",children:[],level:4},{value:"Q8\u3001hive\u5f15\u64ce\u8c03\u5ea6\u65f6\uff0c\u62a5\u5982\u4e0b\u9519\u8befEngineConnPluginNotFoundException:errorCode:70063",id:"q8hive\u5f15\u64ce\u8c03\u5ea6\u65f6\u62a5\u5982\u4e0b\u9519\u8befengineconnpluginnotfoundexceptionerrorcode70063",children:[],level:4},{value:"Q9\u3001linkis\u5fae\u670d\u52a1\u542f\u52a8\u540e\uff0c\u62a5\u5982\u4e0b\u9519\u8befLoad balancer does not have available server for client\uff1a",id:"q9linkis\u5fae\u670d\u52a1\u542f\u52a8\u540e\u62a5\u5982\u4e0b\u9519\u8befload-balancer-does-not-have-available-server-for-client",children:[],level:4},{value:"Q10\u3001hive\u5f15\u64ce\u8c03\u5ea6\u6267\u884c\u65f6\uff0c\u62a5\u9519\u5982\u4e0bopertion failed NullPointerException\uff1a",id:"q10hive\u5f15\u64ce\u8c03\u5ea6\u6267\u884c\u65f6\u62a5\u9519\u5982\u4e0bopertion-failed-nullpointerexception",children:[],level:4},{value:"Q11\u3001hive\u5f15\u64ce\u8c03\u5ea6\u65f6\uff0cengineConnManager\u7684\u9519\u8bef\u65e5\u5fd7\u5982\u4e0bmethod did not exist:SessionHandler\uff1a",id:"q11hive\u5f15\u64ce\u8c03\u5ea6\u65f6engineconnmanager\u7684\u9519\u8bef\u65e5\u5fd7\u5982\u4e0bmethod-did-not-existsessionhandler",children:[],level:4},{value:"Q12\u3001hive\u5f15\u64ce\u91cd\u542f\u540e\uff0cjetty 9.4\u7684jar\u5305\u603b\u662f\u88ab9.3\u7684\u66ff\u6362",id:"q12hive\u5f15\u64ce\u91cd\u542f\u540ejetty-94\u7684jar\u5305\u603b\u662f\u88ab93\u7684\u66ff\u6362",children:[],level:4},{value:"Q13\u3001hive\u5f15\u64ce\u6267\u884c\u65f6\uff0c\u62a5\u5982\u4e0b\u9519\u8befLcom/google/common/collect/UnmodifiableIterator\uff1a",id:"q13hive\u5f15\u64ce\u6267\u884c\u65f6\u62a5\u5982\u4e0b\u9519\u8beflcomgooglecommoncollectunmodifiableiterator",children:[],level:4},{value:"Q14\u3001hive\u5f15\u64ce\u6267\u884c\u65f6\uff0c\u62a5\u9519\u8bef\u5982\u4e0bTaskExecutionServiceImpl 59 error - org/apache/curator/connection/ConnectionHandlingPolicy \uff1a",id:"q14hive\u5f15\u64ce\u6267\u884c\u65f6\u62a5\u9519\u8bef\u5982\u4e0btaskexecutionserviceimpl-59-error---orgapachecuratorconnectionconnectionhandlingpolicy-",children:[],level:4},{value:"Q15\u3001python\u5f15\u64ce\u8c03\u5ea6\u65f6\uff0c\u62a5\u5982\u4e0b\u9519\u8befPython proces is not alive\uff1a",id:"q15python\u5f15\u64ce\u8c03\u5ea6\u65f6\u62a5\u5982\u4e0b\u9519\u8befpython-proces-is-not-alive",children:[],level:4},{value:"Q16\u3001spark\u5f15\u64ce\u6267\u884c\u65f6\uff0c\u62a5\u5982\u4e0b\u9519\u8befNoClassDefFoundError: org/apache/hadoop/hive/ql/io/orc/OrcFile\uff1a",id:"q16spark\u5f15\u64ce\u6267\u884c\u65f6\u62a5\u5982\u4e0b\u9519\u8befnoclassdeffounderror-orgapachehadoophiveqlioorcorcfile",children:[],level:4},{value:"Q17\u3001spark\u5f15\u64ce\u542f\u52a8\u65f6\uff0c\u62a5queue default is not exists in YARN,\u5177\u4f53\u4fe1\u606f\u5982\u4e0b\uff1a",id:"q17spark\u5f15\u64ce\u542f\u52a8\u65f6\u62a5queue-default-is-not-exists-in-yarn\u5177\u4f53\u4fe1\u606f\u5982\u4e0b",children:[],level:4},{value:"Q18\u3001spark\u5f15\u64ce\u542f\u52a8\u65f6\uff0c\u62a5\u9519 get the Yarn queue information excepiton.(\u83b7\u53d6Yarn\u961f\u5217\u4fe1\u606f\u5f02\u5e38)\u4ee5\u53cahttp\u94fe\u63a5\u5f02\u5e38",id:"q18spark\u5f15\u64ce\u542f\u52a8\u65f6\u62a5\u9519-get-the-yarn-queue-information-excepiton\u83b7\u53d6yarn\u961f\u5217\u4fe1\u606f\u5f02\u5e38\u4ee5\u53cahttp\u94fe\u63a5\u5f02\u5e38",children:[],level:4},{value:"Q19\u3001spark\u5f15\u64ce\u8c03\u5ea6\u65f6\uff0c\u9996\u6b21\u53ef\u4ee5\u6267\u884c\u6210\u529f\uff0c\u518d\u6b21\u6267\u884c\u62a5Spark application sc has already stopped, please restart it\uff0c\u5177\u4f53\u9519\u8bef\u5982\u4e0b\uff1a",id:"q19spark\u5f15\u64ce\u8c03\u5ea6\u65f6\u9996\u6b21\u53ef\u4ee5\u6267\u884c\u6210\u529f\u518d\u6b21\u6267\u884c\u62a5spark-application-sc-has-already-stopped-please-restart-it\u5177\u4f53\u9519\u8bef\u5982\u4e0b",children:[],level:4},{value:"Q20\u3001pythonspark\u8c03\u5ea6\u6267\u884c\uff0c\u62a5\u9519\uff1ainitialize python executor failed ClassNotFoundException org.slf4j.impl.StaticLoggerBinder\uff0c\u5177\u4f53\u5982\u4e0b\uff1a",id:"q20pythonspark\u8c03\u5ea6\u6267\u884c\u62a5\u9519initialize-python-executor-failed-classnotfoundexception-orgslf4jimplstaticloggerbinder\u5177\u4f53\u5982\u4e0b",children:[],level:4},{value:"Q21\u3001pythonspark\u8c03\u5ea6\u6267\u884c\uff0c\u62a5\u9519\uff1ainitialize python executor failed\uff0csubmit-version error\uff0c\u5177\u4f53\u5982\u4e0b\uff1a",id:"q21pythonspark\u8c03\u5ea6\u6267\u884c\u62a5\u9519initialize-python-executor-failedsubmit-version-error\u5177\u4f53\u5982\u4e0b",children:[],level:4},{value:"Q22\u3001pythonspark\u8c03\u5ea6\u6267\u884c\u65f6\uff0c\u62a5TypeError:an integer is required(got type bytes)(\u5355\u72ec\u6267\u884c\u62c9\u8d77\u5f15\u64ce\u7684\u547d\u4ee4\u8dd1\u51fa\u7684)\uff0c\u5177\u4f53\u5982\u4e0b\uff1a",id:"q22pythonspark\u8c03\u5ea6\u6267\u884c\u65f6\u62a5typeerroran-integer-is-requiredgot-type-bytes\u5355\u72ec\u6267\u884c\u62c9\u8d77\u5f15\u64ce\u7684\u547d\u4ee4\u8dd1\u51fa\u7684\u5177\u4f53\u5982\u4e0b",children:[],level:4},{value:"Q23\u3001spark\u5f15\u64ce\u662f2.4.0+cdh6.3.2\uff0cpython\u5f15\u64ce\u4e4b\u524d\u56e0\u4e3a\u7f3a\u5c11pandas\u3001matplotlib\u5347\u7ea7\u7684\u672c\u5730python\u52303.8\uff0c\u4f46\u662fspark\u8fd8\u4e0d\u652f\u6301python3.8\uff0c\u4ec5\u652f\u63013.6\u4ee5\u4e0b\uff1b",id:"q23spark\u5f15\u64ce\u662f240cdh632python\u5f15\u64ce\u4e4b\u524d\u56e0\u4e3a\u7f3a\u5c11pandasmatplotlib\u5347\u7ea7\u7684\u672c\u5730python\u523038\u4f46\u662fspark\u8fd8\u4e0d\u652f\u6301python38\u4ec5\u652f\u630136\u4ee5\u4e0b",children:[],level:4}],u={toc:p};function d(e){var a=e.components,l=(0,o.Z)(e,i);return(0,r.kt)("wrapper",(0,t.Z)({},u,l,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"qa"},"Q&A"),(0,r.kt)("p",null,"Linkis1.0\u5e38\u89c1\u95ee\u9898\u548c\u89e3\u51b3\u529e\u6cd5\n\uff1a",(0,r.kt)("a",{parentName:"p",href:"https://docs.qq.com/doc/DWlN4emlJeEJxWlR0"},"https://docs.qq.com/doc/DWlN4emlJeEJxWlR0")),(0,r.kt)("h4",{id:"q1linkis\u542f\u52a8\u62a5\u9519nosuchmethoderrorgetsessionmanagerlorgeclipsejettyserversessionmanager"},"Q1\u3001linkis\u542f\u52a8\u62a5\u9519\uff1aNoSuchMethodErrorgetSessionManager()Lorg/eclipse/jetty/server/SessionManager"),(0,r.kt)("p",null,"\u5177\u4f53\u5806\u6808\uff1a "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Failed startup of context o.s.b.w.e.j.JettyEmbeddedWebAppContext@6c6919ff{application,/,[file:///tmp/jetty-docbase.9102.6375358926927953589/],UNAVAILABLE} java.lang.NoSuchMethodError: org.eclipse.jetty.server.session.SessionHandler.getSessionManager()Lorg/eclipse/jetty/server/SessionManager;\nat org.eclipse.jetty.servlet.ServletContextHandler\\$Context.getSessionCookieConfig(ServletContextHandler.java:1415) ~[jetty-servlet-9.3.20.v20170531.jar:9.3.20.v20170531]\n")),(0,r.kt)("p",null,"\u89e3\u6cd5\uff1ajetty-servlet \u548c jetty-security\u7248\u672c\u9700\u8981\u4ece9.3.20\u5347\u7ea7\u4e3a9.4.20\uff1b"),(0,r.kt)("h4",{id:"q2\u542f\u52a8\u5fae\u670d\u52a1linkis-ps-cs\u65f6\u62a5debuggclasswriter-overrides-final-method-visit"},"Q2\u3001\u542f\u52a8\u5fae\u670d\u52a1linkis-ps-cs\u65f6\uff0c\u62a5DebuggClassWriter overrides final method visit"),(0,r.kt)("p",null,"\u5177\u4f53\u5f02\u5e38\u6808\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"linkis-exception-01.png",src:n(6335).Z})),(0,r.kt)("p",null,"\u89e3\u6cd5:jar\u5305\u51b2\u7a81\uff0c\u5220\u9664asm-5.0.4.jar;"),(0,r.kt)("h4",{id:"q3\u542f\u52a8\u5fae\u670d\u52a1linkis-ps-datasource\u65f6jdbcutilsgetdriverclassname-npe"},"Q3\u3001\u542f\u52a8\u5fae\u670d\u52a1linkis-ps-datasource\u65f6\uff0cJdbcUtils.getDriverClassName NPE"),(0,r.kt)("p",null,"\u5177\u4f53\u5f02\u5e38\u6808\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"linkis-exception-02.png",src:n(9487).Z})),(0,r.kt)("p",null,"\u89e3\u6cd5\uff1aLinkis-datasource \u914d\u7f6e\u95ee\u9898\u5bfc\u81f4\u7684\uff0c\u4fee\u6539linkis.properties  hive.meta\u5f00\u5934\u7684\u4e09\u4e2a\u53c2\u6570\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"hive-config-01.png",src:n(8578).Z})),(0,r.kt)("h4",{id:"q4\u542f\u52a8\u5fae\u670d\u52a1linkis-ps-datasource\u65f6\u62a5\u5982\u4e0b\u5f02\u5e38classnotfoundexception-httpclient"},"Q4\u3001\u542f\u52a8\u5fae\u670d\u52a1linkis-ps-datasource\u65f6\uff0c\u62a5\u5982\u4e0b\u5f02\u5e38ClassNotFoundException HttpClient\uff1a"),(0,r.kt)("p",null,"\u5177\u4f53\u5f02\u5e38\u6808\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"linkis-exception-03.png",src:n(5263).Z})),(0,r.kt)("p",null,"\u89e3\u6cd5\uff1a1.0\u7f16\u8bd1\u7684linkis-metadata-dev-1.0.0.jar\u5b58\u5728\u95ee\u9898\uff0c\u9700\u8981\u91cd\u65b0\u7f16\u8bd1\u6253\u5305\u3002"),(0,r.kt)("h4",{id:"q5\u70b9\u51fbscriptis-\u6570\u636e\u5e93\u4e0d\u8fd4\u56de\u6570\u636e\u73b0\u8c61\u5982\u4e0b"},"Q5\u3001\u70b9\u51fbscriptis-\u6570\u636e\u5e93\uff0c\u4e0d\u8fd4\u56de\u6570\u636e\uff0c\u73b0\u8c61\u5982\u4e0b\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"page-show-01.png",src:n(9862).Z})),(0,r.kt)("p",null,"\u89e3\u6cd5\uff1a\u539f\u56e0hive\u672a\u6388\u6743\u7ed9hadoop\u7528\u6237\uff0c\u6388\u6743\u6570\u636e\u5982\u4e0b\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"db-config-01.png",src:n(6447).Z})),(0,r.kt)("h4",{id:"q6shell\u5f15\u64ce\u8c03\u5ea6\u6267\u884c\u9875\u9762\u62a5-insufficient-resource--requesting-available-engine-timeouteningeconnmanager\u7684linkisout\u62a5\u5982\u4e0b\u9519\u8bef"},"Q6\u3001shell\u5f15\u64ce\u8c03\u5ea6\u6267\u884c,\u9875\u9762\u62a5 Insufficient resource , requesting available engine timeout\uff0ceningeconnmanager\u7684linkis.out\uff0c\u62a5\u5982\u4e0b\u9519\u8bef\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"linkis-exception-04.png",src:n(7373).Z})),(0,r.kt)("p",null,"\u89e3\u6cd5\uff1a\u539f\u56e0hadoop\u6ca1\u6709\u521b\u5efa/appcom/tmp/hadoop/workDir,\u901a\u8fc7root\u7528\u6237\u63d0\u524d\u521b\u5efa\uff0c\u7136\u540e\u7ed9hadoop\u7528\u6237\u6388\u6743\u5373\u53ef\u3002"),(0,r.kt)("h4",{id:"q7shell\u5f15\u64ce\u8c03\u5ea6\u6267\u884c\u65f6\u5f15\u64ce\u6267\u884c\u76ee\u5f55\u62a5\u5982\u4e0b\u9519\u8befbinjavano-such-file-or-directory"},"Q7\u3001shell\u5f15\u64ce\u8c03\u5ea6\u6267\u884c\u65f6\uff0c\u5f15\u64ce\u6267\u884c\u76ee\u5f55\u62a5\u5982\u4e0b\u9519\u8bef/bin/java:No such file or directory\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"shell-error-01.png",src:n(5348).Z})),(0,r.kt)("p",null,"\u89e3\u6cd5\uff1a\u672c\u5730java\u7684\u73af\u5883\u53d8\u91cf\u6709\u95ee\u9898\uff0c\u9700\u8981\u5bf9java\u547d\u4ee4\u505a\u4e0b\u7b26\u53f7\u94fe\u63a5\u3002"),(0,r.kt)("h4",{id:"q8hive\u5f15\u64ce\u8c03\u5ea6\u65f6\u62a5\u5982\u4e0b\u9519\u8befengineconnpluginnotfoundexceptionerrorcode70063"},"Q8\u3001hive\u5f15\u64ce\u8c03\u5ea6\u65f6\uff0c\u62a5\u5982\u4e0b\u9519\u8befEngineConnPluginNotFoundException:errorCode:70063"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"linkis-exception-05.png",src:n(6462).Z})),(0,r.kt)("p",null,"\u89e3\u6cd5\uff1a\u5b89\u88c5\u7684\u65f6\u5019\u6ca1\u6709\u4fee\u6539\u5bf9\u5e94\u5f15\u64ce\u7684Version\u5bfc\u81f4\uff0c\u6240\u4ee5\u9ed8\u8ba4\u63d2\u5165\u5230db\u91cc\u9762\u7684\u5f15\u64ce\u7c7b\u578b\u4e3a\u9ed8\u8ba4\u7248\u672c\uff0c\u800c\u7f16\u8bd1\u51fa\u6765\u7684\u7248\u672c\u4e0d\u662f\u9ed8\u8ba4\u7248\u672c\u5bfc\u81f4\u3002\u5177\u4f53\u4fee\u6539\u6b65\u9aa4\uff1acd /appcom/Install/dss-linkis/linkis/lib/linkis-engineconn-plugins/\uff0c\u4fee\u6539dist\u76ee\u5f55\u4e0b\u7684v2.1.1 \u76ee\u5f55\u540d \u4fee\u6539\u4e3av1.2.1  \u4fee\u6539plugin\u76ee\u5f55\u4e0b\u7684\u5b50\u76ee\u5f55\u540d2.1.1 \u4e3a\u9ed8\u8ba4\u7248\u672c\u76841.2.1\u3002\u5982\u679c\u662fSpark\u9700\u8981\u76f8\u5e94\u4fee\u6539dist/v2.4.3 \u548cplugin/2.4.3\u3002\u6700\u540e\u91cd\u542fengineplugin\u670d\u52a1\u3002"),(0,r.kt)("h4",{id:"q9linkis\u5fae\u670d\u52a1\u542f\u52a8\u540e\u62a5\u5982\u4e0b\u9519\u8befload-balancer-does-not-have-available-server-for-client"},"Q9\u3001linkis\u5fae\u670d\u52a1\u542f\u52a8\u540e\uff0c\u62a5\u5982\u4e0b\u9519\u8befLoad balancer does not have available server for client\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"page-show-02.png",src:n(9636).Z})),(0,r.kt)("p",null,"\u89e3\u6cd5\uff1a\u8fd9\u4e2a\u662f\u56e0\u4e3alinkis\u5fae\u670d\u52a1\u521a\u542f\u52a8\uff0c\u8fd8\u672a\u5b8c\u6210\u6ce8\u518c\uff0c\u7b49\u5f851~2\u5206\u949f\uff0c\u91cd\u8bd5\u5373\u53ef\u3002"),(0,r.kt)("h4",{id:"q10hive\u5f15\u64ce\u8c03\u5ea6\u6267\u884c\u65f6\u62a5\u9519\u5982\u4e0bopertion-failed-nullpointerexception"},"Q10\u3001hive\u5f15\u64ce\u8c03\u5ea6\u6267\u884c\u65f6\uff0c\u62a5\u9519\u5982\u4e0bopertion failed NullPointerException\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"linkis-exception-06.png",src:n(2971).Z})),(0,r.kt)("p",null,"\u89e3\u6cd5\uff1a\u670d\u52a1\u5668\u7f3a\u5c11\u73af\u5883\u53d8\u91cf\uff0c/etc/profile\u589e\u52a0export HIVE_CONF_DIR=/etc/hive/conf;"),(0,r.kt)("h4",{id:"q11hive\u5f15\u64ce\u8c03\u5ea6\u65f6engineconnmanager\u7684\u9519\u8bef\u65e5\u5fd7\u5982\u4e0bmethod-did-not-existsessionhandler"},"Q11\u3001hive\u5f15\u64ce\u8c03\u5ea6\u65f6\uff0cengineConnManager\u7684\u9519\u8bef\u65e5\u5fd7\u5982\u4e0bmethod did not exist:SessionHandler\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"linkis-exception-07.png",src:n(7215).Z})),(0,r.kt)("p",null,"\u89e3\u6cd5\uff1ahive\u5f15\u64celib\u4e0b\uff0cjetty jar\u5305\u51b2\u7a81\uff0cjetty-security\u3001 jetty-server\u66ff\u6362\u4e3a9.4.20\uff1b"),(0,r.kt)("h4",{id:"q12hive\u5f15\u64ce\u91cd\u542f\u540ejetty-94\u7684jar\u5305\u603b\u662f\u88ab93\u7684\u66ff\u6362"},"Q12\u3001hive\u5f15\u64ce\u91cd\u542f\u540e\uff0cjetty 9.4\u7684jar\u5305\u603b\u662f\u88ab9.3\u7684\u66ff\u6362"),(0,r.kt)("p",null,"\u89e3\u6cd5\uff1a\u751f\u6210\u5f15\u64ce\u5b9e\u4f8b\u65f6\uff0c\u4f1a\u6709jar\u5305\u7f13\u5b58\uff0c\u9996\u5148\u9700\u8981\u5220\u9664\u8868linkis_engine_conn_plugin_bml_resources hive\u76f8\u5173\u7684\u8bb0\u5f55\uff0c\u5176\u6b21\u5220\u9664\u76ee\u5f55/appcom/Install/dss-linkis/linkis/lib/linkis-engineconn-plugins/hive/dist\u4e0b\u76841.2.1.zip\uff0c\u6700\u540e\u91cd\u542fengineplugin\u670d\u52a1\uff0clib\u7684jar\u5305\u624d\u4f1a\u66f4\u65b0\u6210\u529f\u3002"),(0,r.kt)("h4",{id:"q13hive\u5f15\u64ce\u6267\u884c\u65f6\u62a5\u5982\u4e0b\u9519\u8beflcomgooglecommoncollectunmodifiableiterator"},"Q13\u3001hive\u5f15\u64ce\u6267\u884c\u65f6\uff0c\u62a5\u5982\u4e0b\u9519\u8befLcom/google/common/collect/UnmodifiableIterator\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"2021-03-16 13:32:23.304 ERROR [pool-2-thread-1] com.webank.wedatasphere.linkis.engineplugin.hive.executor.HiveEngineConnExecutor 140 run - query failed, reason : java.lang.IllegalAccessError: tried to access method com.google.common.collect.Iterators.emptyIterator() Lcom/google/common/collect/UnmodifiableIterator; from class org.apache.hadoop.hive.ql.exec.FetchOperator \nat org.apache.hadoop.hive.ql.exec.FetchOperator.<init>(FetchOperator.java:108) ~[hive-exec-2.1.1-cdh6.1.0.jar:2.1.1-cdh6.1.0]\nat org.apache.hadoop.hive.ql.exec.FetchTask.initialize(FetchTask.java:86) ~[hive-exec-2.1.1-cdh6.1.0.jar:2.1.1-cdh6.1.0]\nat org.apache.hadoop.hive.ql.Driver.compile(Driver.java:629) ~[hive-exec-2.1.1-cdh6.1.0.jar:2.1.1-cdh6.1.0]\nat org.apache.hadoop.hive.ql.Driver.compileInternal(Driver.java:1414) ~[hive-exec-2.1.1-cdh6.1.0.jar:2.1.1-cdh6.1.0]\nat org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1543) ~[hive-exec-2.1.1-cdh6.1.0.jar:2.1.1-cdh6.1.0]\nat org.apache.hadoop.hive.ql.Driver.run(Driver.java:1332) ~[hive-exec-2.1.1-cdh6.1.0.jar:2.1.1-cdh6.1.0]\nat org.apache.hadoop.hive.ql.Driver.run(Driver.java:1321) ~[hive-exec-2.1.1-cdh6.1.0.jar:2.1.1-cdh6.1.0]\nat com.webank.wedatasphere.linkis.engineplugin.hive.executor.HiveEngineConnExecutor$$anon$1.run(HiveEngineConnExecutor.scala:152) [linkis-engineplugin-hive-dev-1.0.0.jar:?]\nat com.webank.wedatasphere.linkis.engineplugin.hive.executor.HiveEngineConnExecutor$$anon$1.run(HiveEngineConnExecutor.scala:126) [linkis-engineplugin-hive-dev-1.0.0.jar:?]\n")),(0,r.kt)("p",null,"\u89e3\u6cd5\uff1aguava\u5305\u51b2\u7a81\uff0c\u5e72\u6389hive/dist/v1.2.1/lib\u4e0b\u7684guava-25.1-jre.jar\uff1b"),(0,r.kt)("h4",{id:"q14hive\u5f15\u64ce\u6267\u884c\u65f6\u62a5\u9519\u8bef\u5982\u4e0btaskexecutionserviceimpl-59-error---orgapachecuratorconnectionconnectionhandlingpolicy-"},"Q14\u3001hive\u5f15\u64ce\u6267\u884c\u65f6\uff0c\u62a5\u9519\u8bef\u5982\u4e0bTaskExecutionServiceImpl 59 error - org/apache/curator/connection/ConnectionHandlingPolicy \uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"2021-03-16 16:17:40.649 INFO  [pool-2-thread-1] com.webank.wedatasphere.linkis.engineplugin.hive.executor.HiveEngineConnExecutor 42 info - com.webank.wedatasphere.linkis.engineplugin.hive.executor.HiveEngineConnExecutor@36a7c96f change status Busy => Idle.\n2021-03-16 16:17:40.661 ERROR [pool-2-thread-1] com.webank.wedatasphere.linkis.engineconn.computation.executor.service.TaskExecutionServiceImpl 59 error - org/apache/curator/connection/ConnectionHandlingPolicy java.lang.NoClassDefFoundError: org/apache/curator/connection/ConnectionHandlingPolicy at org.apache.curator.framework.CuratorFrameworkFactory.builder(CuratorFrameworkFactory.java:78) ~[curator-framework-4.0.1.jar:4.0.1]\nat org.apache.hadoop.hive.ql.lockmgr.zookeeper.CuratorFrameworkSingleton.getInstance(CuratorFrameworkSingleton.java:59) ~[hive-exec-2.1.1-cdh6.1.0.jar:2.1.1-cdh6.1.0]\nat org.apache.hadoop.hive.ql.lockmgr.zookeeper.ZooKeeperHiveLockManager.setContext(ZooKeeperHiveLockManager.java:98) ~[hive-exec-2.1.1-cdh6.1.0.jar:2.1.1-cdh6.1.0]\nat org.apache.hadoop.hive.ql.lockmgr.DummyTxnManager.getLockManager(DummyTxnManager.java:87) ~[hive-exec-2.1.1-cdh6.1.0.jar:2.1.1-cdh6.1.0]\nat org.apache.hadoop.hive.ql.lockmgr.DummyTxnManager.acquireLocks(DummyTxnManager.java:121) ~[hive-exec-2.1.1-cdh6.1.0.jar:2.1.1-cdh6.1.0]\nat org.apache.hadoop.hive.ql.Driver.acquireLocksAndOpenTxn(Driver.java:1237) ~[hive-exec-2.1.1-cdh6.1.0.jar:2.1.1-cdh6.1.0]\nat org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1607) ~[hive-exec-2.1.1-cdh6.1.0.jar:2.1.1-cdh6.1.0]\nat org.apache.hadoop.hive.ql.Driver.run(Driver.java:1332) ~[hive-exec-2.1.1-cdh6.1.0.jar:2.1.1-cdh6.1.0]\nat org.apache.hadoop.hive.ql.Driver.run(Driver.java:1321) ~[hive-exec-2.1.1-cdh6.1.0.jar:2.1.1-cdh6.1.0]\nat com.webank.wedatasphere.linkis.engineplugin.hive.executor.HiveEngineConnExecutor$$anon$1.run(HiveEngineConnExecutor.scala:152) ~[linkis-engineplugin-hive-dev-1.0.0.jar:?]\nat com.webank.wedatasphere.linkis.engineplugin.hive.executor.HiveEngineConnExecutor$$anon$1.run(HiveEngineConnExecutor.scala:126) ~[linkis-engineplugin-hive-dev-1.0.0.jar:?]\nat java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_181]\nat javax.security.auth.Subject.doAs(Subject.java:422) ~[?:1.8.0_181]\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1875) ~[hadoop-common-3.0.0-cdh6.3.2.jar:?]\nat com.webank.wedatasphere.linkis.engineplugin.hive.executor.HiveEngineConnExecutor.executeLine(HiveEngineConnExecutor.scala:126) ~[linkis-engineplugin-hive-dev-1.0.0.jar:?]\nat com.webank.wedatasphere.linkis.engineconn.computation.executor.execute.ComputationExecutor$$anonfun$execute$1$$anonfun$apply$9$$anonfun$apply$10.apply(ComputationExecutor.scala:145) ~[linkis-computation-engineconn-dev-1.0.0.jar:?]\nat com.webank.wedatasphere.linkis.engineconn.computation.executor.execute.ComputationExecutor$$anonfun$execute$1$$anonfun$apply$9$$anonfun$apply$10.apply(ComputationExecutor.scala:144) ~[linkis-computation-engineconn-dev-1.0.0.jar:?]\nat com.webank.wedatasphere.linkis.common.utils.Utils$.tryCatch(Utils.scala:48) ~[linkis-common-dev-1.0.0.jar:?]\nat com.webank.wedatasphere.linkis.engineconn.computation.executor.execute.ComputationExecutor$$anonfun$execute$1$$anonfun$apply$9.apply(ComputationExecutor.scala:146) ~[linkis-computation-engineconn-dev-1.0.0.jar:?]\nat com.webank.wedatasphere.linkis.engineconn.computation.executor.execute.ComputationExecutor$$anonfun$execute$1$$anonfun$apply$9.apply(ComputationExecutor.scala:140) ~[linkis-computation-engineconn-dev-1.0.0.jar:?]\nat scala.collection.immutable.Range.foreach(Range.scala:160) ~[scala-library-2.11.8.jar:?]\nat com.webank.wedatasphere.linkis.engineconn.computation.executor.execute.ComputationExecutor$$anonfun$execute$1.apply(ComputationExecutor.scala:139) ~[linkis-computation-engineconn-dev-1.0.0.jar:?]\nat com.webank.wedatasphere.linkis.engineconn.computation.executor.execute.ComputationExecutor$$anonfun$execute$1.apply(ComputationExecutor.scala:114) ~[linkis-computation-engineconn-dev-1.0.0.jar:?]\nat com.webank.wedatasphere.linkis.common.utils.Utils$.tryFinally(Utils.scala:62) ~[linkis-common-dev-1.0.0.jar:?]\nat com.webank.wedatasphere.linkis.engineconn.acessible.executor.entity.AccessibleExecutor.ensureIdle(AccessibleExecutor.scala:42) ~[linkis-accessible-executor-dev-1.0.0.jar:?]\nat com.webank.wedatasphere.linkis.engineconn.acessible.executor.entity.AccessibleExecutor.ensureIdle(AccessibleExecutor.scala:36) ~[linkis-accessible-executor-dev-1.0.0.jar:?]\nat com.webank.wedatasphere.linkis.engineconn.computation.executor.execute.ComputationExecutor.ensureOp(ComputationExecutor.scala:103) ~[linkis-computation-engineconn-dev-1.0.0.jar:?]\nat com.webank.wedatasphere.linkis.engineconn.computation.executor.execute.ComputationExecutor.execute(ComputationExecutor.scala:114) ~[linkis-computation-engineconn-dev-1.0.0.jar:?]\nat com.webank.wedatasphere.linkis.engineconn.computation.executor.service.TaskExecutionServiceImpl$$anon$1$$anonfun$run$1.apply$mcV$sp(TaskExecutionServiceImpl.scala:139) [linkis-computation-engineconn-dev-1.0.0.jar:?]\nat com.webank.wedatasphere.linkis.engineconn.computation.executor.service.TaskExecutionServiceImpl$$anon$1$$anonfun$run$1.apply(TaskExecutionServiceImpl.scala:138) [linkis-computation-engineconn-dev-1.0.0.jar:?]\nat com.webank.wedatasphere.linkis.engineconn.computation.executor.service.TaskExecutionServiceImpl$$anon$1$$anonfun$run$1.apply(TaskExecutionServiceImpl.scala:138) [linkis-computation-engineconn-dev-1.0.0.jar:?]\nat com.webank.wedatasphere.linkis.common.utils.Utils$.tryCatch(Utils.scala:48) [linkis-common-dev-1.0.0.jar:?]\nat com.webank.wedatasphere.linkis.common.utils.Utils$.tryAndWarn(Utils.scala:74) [linkis-common-dev-1.0.0.jar:?]\nat com.webank.wedatasphere.linkis.engineconn.computation.executor.service.TaskExecutionServiceImpl$$anon$1.run(TaskExecutionServiceImpl.scala:138) [linkis-computation-engineconn-dev-1.0.0.jar:?]\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]\nat java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]\nat java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]\nCaused by: java.lang.ClassNotFoundException: org.apache.curator.connection.ConnectionHandlingPolicy atjava.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[?:1.8.0_181]\nat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[?:1.8.0_181]\nat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349) ~[?:1.8.0_181]\nat java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[?:1.8.0_181]\n... 39 more\n")),(0,r.kt)("p",null,"\u89e3\u6cd5\uff1a\u539f\u56e0\u662fCurator\u7684\u7248\u672c\u548czookeeper\u7684\u7248\u672c\u6709\u5bf9\u5e94\u5173\u7cfb\u3002Curator2.X\u7684\u5427\uff0c\u5bf9\u4e8eCurator2.X\u662f\u652f\u6301Zookeeper3.4.X\u7684\uff0c\u6240\u4ee5\u5982\u679c\u76ee\u524d\u4f60\u662fZookeeper3.4.X\u7684\u7248\u672c\uff0c\u8fd8\u662f\u4f7f\u7528Curator2.X\u7684\u5427\uff0c\u6bd4\u5982\uff1a2.7.0\u3002\u53c2\u8003\u94fe\u63a5\uff1a",(0,r.kt)("a",{parentName:"p",href:"https://blog.csdn.net/muyingmiao/article/details/100183768"},"https://blog.csdn.net/muyingmiao/article/details/100183768")),(0,r.kt)("h4",{id:"q15python\u5f15\u64ce\u8c03\u5ea6\u65f6\u62a5\u5982\u4e0b\u9519\u8befpython-proces-is-not-alive"},"Q15\u3001python\u5f15\u64ce\u8c03\u5ea6\u65f6\uff0c\u62a5\u5982\u4e0b\u9519\u8befPython proces is not alive\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"linkis-exception-08.png",src:n(9581).Z})),(0,r.kt)("p",null,"\u89e3\u6cd5\uff1a\u670d\u52a1\u5668\u5b89\u88c5anaconda3 \u5305\u7ba1\u7406\u5668\uff0c\u7ecf\u8fc7\u5bf9python\u8c03\u8bd5\uff0c\u53d1\u73b0\u4e24\u4e2a\u95ee\u9898\uff1a\uff081\uff09\u7f3a\u4e4fpandas\u3001matplotlib\u6a21\u5757\uff0c\u9700\u8981\u624b\u52a8\u5b89\u88c5;(2)\u65b0\u7248python\u5f15\u64ce\u6267\u884c\u65f6\uff0c\u4f9d\u8d56python\u9ad8\u7248\u672c\uff0c\u9996\u5148\u5b89\u88c5python3\uff0c\u5176\u6b21\u505a\u4e0b\u7b26\u53f7\u94fe\u63a5\uff08\u5982\u4e0b\u56fe\uff09\uff0c\u91cd\u542fengineplugin\u670d\u52a1\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"shell-error-02.png",src:n(6614).Z})),(0,r.kt)("h4",{id:"q16spark\u5f15\u64ce\u6267\u884c\u65f6\u62a5\u5982\u4e0b\u9519\u8befnoclassdeffounderror-orgapachehadoophiveqlioorcorcfile"},"Q16\u3001spark\u5f15\u64ce\u6267\u884c\u65f6\uff0c\u62a5\u5982\u4e0b\u9519\u8befNoClassDefFoundError: org/apache/hadoop/hive/ql/io/orc/OrcFile\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"2021-03-19 15:12:49.227 INFO  [dag-scheduler-event-loop] org.apache.spark.scheduler.DAGScheduler 57 logInfo -ShuffleMapStage 5 (show at <console>:69) failed in 21.269 s due to Job aborted due to stage failure: Task 1 in stage 5.0 failed 4 times, most recent failure: Lost task 1.3 in stage 5.0 (TID 139, cdh03, executor 6):java.lang.NoClassDefFoundError: org/apache/hadoop/hive/ql/io/orc/OrcFile \nat org.apache.spark.sql.hive.orc.OrcFileOperator$$anonfun$getFileReader$2.apply(OrcFileOperator.scala:75)\nat org.apache.spark.sql.hive.orc.OrcFileOperator$$anonfun$getFileReader$2.apply(OrcFileOperator.scala:73)\nat scala.collection.Iterator$$anon$11.next(Iterator.scala:410)\nat scala.collection.TraversableOnce$class.collectFirst(TraversableOnce.scala:145)\nat scala.collection.AbstractIterator.collectFirst(Iterator.scala:1334)\nat org.apache.spark.sql.hive.orc.OrcFileOperator$.getFileReader(OrcFileOperator.scala:90)\nat org.apache.spark.sql.hive.orc.OrcFileOperator$$anonfun$readSchema$2.apply(OrcFileOperator.scala:99)\nat org.apache.spark.sql.hive.orc.OrcFileOperator$$anonfun$readSchema$2.apply(OrcFileOperator.scala:99)\nat scala.collection.Iterator$$anon$11.next(Iterator.scala:410)\nat scala.collection.TraversableOnce$class.collectFirst(TraversableOnce.scala:145)\nat scala.collection.AbstractIterator.collectFirst(Iterator.scala:1334)\nat org.apache.spark.sql.hive.orc.OrcFileOperator$.readSchema(OrcFileOperator.scala:99)\nat org.apache.spark.sql.hive.orc.OrcFileFormat$$anonfun$buildReader$2.apply(OrcFileFormat.scala:160)\nat org.apache.spark.sql.hive.orc.OrcFileFormat$$anonfun$buildReader$2.apply(OrcFileFormat.scala:151)\nat org.apache.spark.sql.execution.datasources.FileFormat$$anon$1.apply(FileFormat.scala:148)\nat org.apache.spark.sql.execution.datasources.FileFormat$$anon$1.apply(FileFormat.scala:132)\nat org.apache.spark.sql.execution.datasources.FileScanRDD$$anon$1.org$apache$spark$sql$execution$datasources$FileScanRDD$$anon$$readCurrentFile(FileScanRDD.scala:126)\nat org.apache.spark.sql.execution.datasources.FileScanRDD$$anon$1.nextIterator(FileScanRDD.scala:179)\nat org.apache.spark.sql.execution.datasources.FileScanRDD$$anon$1.hasNext(FileScanRDD.scala:103)\nat org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(UnknownSource)\nat org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\nat org.apache.spark.sql.execution.WholeStageCodegenExec$$anonfun$11$$anon$1.hasNext(WholeStageCodegenExec.scala:624)\nat scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:409)\nat org.apache.spark.shuffle.sort.BypassMergeSortShuffleWriter.write(BypassMergeSortShuffleWriter.java:125)\nat org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\nat org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:55)\nat org.apache.spark.scheduler.Task.run(Task.scala:121)\nat org.apache.spark.executor.Executor$TaskRunner$$anonfun$11.apply(Executor.scala:407)\nat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1408)\nat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:413)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ClassNotFoundException: org.apache.hadoop.hive.ql.io.orc.OrcFile \nat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\nat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n... 33 more\n\n")),(0,r.kt)("p",null,"\u89e3\u6cd5\uff1acdh6.3.2\u96c6\u7fa4spark\u5f15\u64ceclasspath\u53ea\u6709/opt/cloudera/parcels/CDH-6.3.2-1.cdh6.3.2.p0.1605554/lib/spark/jars\uff0c\u9700\u8981\u65b0\u589ehive-exec-2.1.1-cdh6.1.0.jar\uff0c\u7136\u540e\u91cd\u542fspark\u3002"),(0,r.kt)("h4",{id:"q17spark\u5f15\u64ce\u542f\u52a8\u65f6\u62a5queue-default-is-not-exists-in-yarn\u5177\u4f53\u4fe1\u606f\u5982\u4e0b"},"Q17\u3001spark\u5f15\u64ce\u542f\u52a8\u65f6\uff0c\u62a5queue default is not exists in YARN,\u5177\u4f53\u4fe1\u606f\u5982\u4e0b\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"linkis-exception-09.png",src:n(3913).Z})),(0,r.kt)("p",null,"\u89e3\u6cd5\uff1a1.0\u7684linkis-resource-manager-dev-1.0.0.jar\u62c9\u53d6\u961f\u5217\u4fe1\u606f\u65f6\uff0c\u89e3\u6790json\u6709\u517c\u5bb9\u95ee\u9898\uff0c\u5b98\u65b9\u540c\u5b66\u4f18\u5316\u540e\uff0c\u91cd\u65b0\u63d0\u4f9b\u65b0\u5305\uff0cjar\u5305\u8def\u5f84\uff1a/appcom/Install/dss-linkis/linkis/lib/linkis-computation-governance/linkis-cg-linkismanager/\u3002"),(0,r.kt)("h4",{id:"q18spark\u5f15\u64ce\u542f\u52a8\u65f6\u62a5\u9519-get-the-yarn-queue-information-excepiton\u83b7\u53d6yarn\u961f\u5217\u4fe1\u606f\u5f02\u5e38\u4ee5\u53cahttp\u94fe\u63a5\u5f02\u5e38"},"Q18\u3001spark\u5f15\u64ce\u542f\u52a8\u65f6\uff0c\u62a5\u9519 get the Yarn queue information excepiton.(\u83b7\u53d6Yarn\u961f\u5217\u4fe1\u606f\u5f02\u5e38)\u4ee5\u53cahttp\u94fe\u63a5\u5f02\u5e38"),(0,r.kt)("p",null,"\u89e3\u6cd5\uff1ayarn\u7684\u5730\u5740\u914d\u7f6e\u8fc1\u79fbDB\u914d\u7f6e\uff0c\u9700\u8981\u589e\u52a0\u5982\u4e0b\u914d\u7f6e\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"db-config-02.png",src:n(770).Z})),(0,r.kt)("h4",{id:"q19spark\u5f15\u64ce\u8c03\u5ea6\u65f6\u9996\u6b21\u53ef\u4ee5\u6267\u884c\u6210\u529f\u518d\u6b21\u6267\u884c\u62a5spark-application-sc-has-already-stopped-please-restart-it\u5177\u4f53\u9519\u8bef\u5982\u4e0b"},"Q19\u3001spark\u5f15\u64ce\u8c03\u5ea6\u65f6\uff0c\u9996\u6b21\u53ef\u4ee5\u6267\u884c\u6210\u529f\uff0c\u518d\u6b21\u6267\u884c\u62a5Spark application sc has already stopped, please restart it\uff0c\u5177\u4f53\u9519\u8bef\u5982\u4e0b\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"page-show-03.png",src:n(758).Z})),(0,r.kt)("p",null,"\u89e3\u6cd5\uff1a\u80cc\u666f\u662flinkis1.0\u5f15\u64ce\u7684\u67b6\u6784\u4f53\u7cfb\u6709\u8c03\u6574\uff0cspark session \u521b\u5efa\u540e\uff0c\u4e3a\u4e86\u907f\u514d\u5f00\u9500\u3001\u63d0\u5347\u6267\u884c\u6548\u7387\uff0csession\u662f\u590d\u7528\u7684\u3002\u5f53\u6211\u4eec\u7b2c\u4e00\u6b21\u6267\u884cspark.scala\u65f6\uff0c\u6211\u4eec\u7684\u811a\u672c\u5b58\u5728spark.stop()\uff0c\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u5bfc\u81f4\u65b0\u521b\u5efa\u7684\u4f1a\u8bdd\u88ab\u5173\u95ed\uff0c\u5f53\u518d\u6b21\u6267\u884c\u65f6\uff0c\u4f1a\u63d0\u793a\u4f1a\u8bdd\u5df2\u5173\u95ed\uff0c\u8bf7\u91cd\u542f\u3002\u89e3\u51b3\u529e\u6cd5\uff1a\u9996\u5148\u6240\u6709\u811a\u672c\u53bb\u6389stop(),\u5176\u6b21\u662f\u6267\u884c\u987a\u5e8f\uff1a\u5148\u6267\u884cdefault.sql\uff0c\u518d\u6267\u884cscalaspark\u3001pythonspark\u5373\u53ef\u3002"),(0,r.kt)("h4",{id:"q20pythonspark\u8c03\u5ea6\u6267\u884c\u62a5\u9519initialize-python-executor-failed-classnotfoundexception-orgslf4jimplstaticloggerbinder\u5177\u4f53\u5982\u4e0b"},"Q20\u3001pythonspark\u8c03\u5ea6\u6267\u884c\uff0c\u62a5\u9519\uff1ainitialize python executor failed ClassNotFoundException org.slf4j.impl.StaticLoggerBinder\uff0c\u5177\u4f53\u5982\u4e0b\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"linkis-exception-10.png",src:n(6817).Z})),(0,r.kt)("p",null,"\u89e3\u6cd5\uff1a\u539f\u56e0\u662fspark\u670d\u52a1\u7aef\u7f3a\u5c11 slf4j-log4j12-1.7.25.jar,copy\u4e0a\u8ff0jar\u62a5\u5230/opt/cloudera/parcels/CDH-6.3.2-1.cdh6.3.2.p0.1605554/lib/spark/jars\u3002"),(0,r.kt)("h4",{id:"q21pythonspark\u8c03\u5ea6\u6267\u884c\u62a5\u9519initialize-python-executor-failedsubmit-version-error\u5177\u4f53\u5982\u4e0b"},"Q21\u3001pythonspark\u8c03\u5ea6\u6267\u884c\uff0c\u62a5\u9519\uff1ainitialize python executor failed\uff0csubmit-version error\uff0c\u5177\u4f53\u5982\u4e0b\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"shell-error-03.png",src:n(7985).Z})),(0,r.kt)("p",null,"\u89e3\u6cd5\uff1a\u539f\u56e0\u662flinkis1.0 pythonSpark\u5f15\u64ce\u83b7\u53d6spark\u7248\u672c\u4ee3\u7801\u6709bug\uff0c\u4fee\u590d\u5982\u4e0b\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"code-fix-01.png",src:n(1879).Z})),(0,r.kt)("h4",{id:"q22pythonspark\u8c03\u5ea6\u6267\u884c\u65f6\u62a5typeerroran-integer-is-requiredgot-type-bytes\u5355\u72ec\u6267\u884c\u62c9\u8d77\u5f15\u64ce\u7684\u547d\u4ee4\u8dd1\u51fa\u7684\u5177\u4f53\u5982\u4e0b"},"Q22\u3001pythonspark\u8c03\u5ea6\u6267\u884c\u65f6\uff0c\u62a5TypeError:an integer is required(got type bytes)(\u5355\u72ec\u6267\u884c\u62c9\u8d77\u5f15\u64ce\u7684\u547d\u4ee4\u8dd1\u51fa\u7684)\uff0c\u5177\u4f53\u5982\u4e0b\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"shell-error-04.png",src:n(4556).Z})),(0,r.kt)("p",null,"\u89e3\u6cd5\uff1a\u539f\u56e0\u662f\u7cfb\u7edfspark\u548cpython\u7248\u672c\u4e0d\u517c\u5bb9\uff0cpython\u662f3.8\uff0cspark\u662f2.4.0-cdh6.3.2,spark\u8981\u6c42python version<=3.6\uff0c\u964d\u4f4epython\u81f33.6\uff0c\u6ce8\u91ca\u6587\u4ef6/opt/cloudera/parcels/CDH/lib/spark/python/lib/pyspark.zip/pyspark/context.py\u5982\u4e0b\u51e0\u884c\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"shell-error-05.png",src:n(7894).Z})),(0,r.kt)("h4",{id:"q23spark\u5f15\u64ce\u662f240cdh632python\u5f15\u64ce\u4e4b\u524d\u56e0\u4e3a\u7f3a\u5c11pandasmatplotlib\u5347\u7ea7\u7684\u672c\u5730python\u523038\u4f46\u662fspark\u8fd8\u4e0d\u652f\u6301python38\u4ec5\u652f\u630136\u4ee5\u4e0b"},"Q23\u3001spark\u5f15\u64ce\u662f2.4.0+cdh6.3.2\uff0cpython\u5f15\u64ce\u4e4b\u524d\u56e0\u4e3a\u7f3a\u5c11pandas\u3001matplotlib\u5347\u7ea7\u7684\u672c\u5730python\u52303.8\uff0c\u4f46\u662fspark\u8fd8\u4e0d\u652f\u6301python3.8\uff0c\u4ec5\u652f\u63013.6\u4ee5\u4e0b\uff1b"),(0,r.kt)("p",null,"\u89e3\u6cd5\uff1a\u91cd\u65b0\u5b89\u88c5python\u5305\u7ba1\u7406\u5668anaconda2,\u5c06python\u7edf\u4e00\u964d\u52302.7,\u5b89\u88c5pandas\u3001matplotlib\u6a21\u5757\uff0cpython\u5f15\u64ce\u3001spark\u5f15\u64ce\u5747\u53ef\u4ee5\u6b63\u5e38\u8c03\u5ea6\u3002"))}d.isMDXComponent=!0},1879:function(e,a,n){a.Z=n.p+"assets/images/code-fix-01-d9c67cd0e98241135164e4d6ebb06d1e.png"},6447:function(e,a,n){a.Z=n.p+"assets/images/db-config-01-148b2d1dd324a8082543a67b8a61d031.png"},770:function(e,a,n){a.Z=n.p+"assets/images/db-config-02-f13268fb7c543733a5c359d9150963fc.png"},8578:function(e,a,n){a.Z=n.p+"assets/images/hive-config-01-38139d9e535f185bee3e17535a5ec327.png"},6335:function(e,a,n){a.Z=n.p+"assets/images/linkis-exception-01-3ce5a64d164882814935b610d226d5d6.png"},9487:function(e,a,n){a.Z=n.p+"assets/images/linkis-exception-02-70fdd83cebfd9f535617f4ada1aa0e66.png"},5263:function(e,a,n){a.Z=n.p+"assets/images/linkis-exception-03-36fb649e7ef97ceeb949ec89a9b8ffb9.png"},7373:function(e,a,n){a.Z=n.p+"assets/images/linkis-exception-04-90263ffdfacbfc69cd63e59955452217.png"},6462:function(e,a,n){a.Z=n.p+"assets/images/linkis-exception-05-79ebb69bb11102bfe287ef83ab4131f9.png"},2971:function(e,a,n){a.Z=n.p+"assets/images/linkis-exception-06-a8da09412508967d9b87712a6e97d74a.png"},7215:function(e,a,n){a.Z=n.p+"assets/images/linkis-exception-07-437193907ead2d47135f7761017e8730.png"},9581:function(e,a,n){a.Z=n.p+"assets/images/linkis-exception-08-b615151d4fc8aab21d01bb3bb17ae685.png"},3913:function(e,a,n){a.Z=n.p+"assets/images/linkis-exception-09-015f3ba93f42edda9be668ee5e570a79.png"},6817:function(e,a,n){a.Z=n.p+"assets/images/linkis-exception-10-592b3282c47555a50b0abfe3cafaa6cf.png"},9862:function(e,a,n){a.Z=n.p+"assets/images/page-show-01-cbec3b1161e52e05e9bcdecadd9de3c1.png"},9636:function(e,a,n){a.Z=n.p+"assets/images/page-show-02-f1fe09ca6bd0a2b2d7236e033c51a5de.png"},758:function(e,a,n){a.Z=n.p+"assets/images/page-show-03-e7a453a712bf9c6b8a580be432de8ab3.png"},5348:function(e,a,n){a.Z=n.p+"assets/images/shell-error-01-170fd7884890c07287d87460366b51c6.png"},6614:function(e,a,n){a.Z=n.p+"assets/images/shell-error-02-7a0828687b976e93aeda516f0d11b8cf.png"},7985:function(e,a,n){a.Z=n.p+"assets/images/shell-error-03-477fba3073827e78efc5a1c3dd76c47a.png"},4556:function(e,a,n){a.Z=n.p+"assets/images/shell-error-04-3a4c1335ed0c7060e3d9ac6bb2aa08c2.png"},7894:function(e,a,n){a.Z=n.p+"assets/images/shell-error-05-44d72941580d17df2297f7a41ef45390.png"}}]);